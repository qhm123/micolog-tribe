(function() { function h(a){throw a;}
var i=true,k=null,l=false,m,p=this,aa=function(a){a=a.split(".");for(var b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b},ba=function(){},ca=function(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||
typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";else if(b=="function"&&typeof a.call=="undefined")return"object";return b},q=function(a){return ca(a)=="array"},r=function(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"},u=function(a){return typeof a=="string"},v=function(a){return ca(a)=="function"},da=function(a){a=ca(a);return a=="object"||a=="array"||a=="function"},w=function(a){return a[ea]||
(a[ea]=++fa)},ea="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),fa=0,ga=function(a){return a.call.apply(a.bind,arguments)},ha=function(a,b){var c=b||p;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}},x=function(){x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=
-1?ga:ha;return x.apply(k,arguments)},ia=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}},ja=Date.now||function(){return+new Date},y=function(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)if(!c.length&&b!==undefined)d[e]=b;else d=d[e]?d[e]:d[e]={}},z=function(a,b){function c(){}c.prototype=b.prototype;a.F=b.prototype;
a.prototype=new c;a.prototype.constructor=a};Function.prototype.bind=Function.prototype.bind||function(a){if(arguments.length>1){var b=Array.prototype.slice.call(arguments,1);b.unshift(this,a);return x.apply(k,b)}else return x(this,a)};var A=function(){};A.prototype.oa=l;A.prototype.H=function(){if(!this.oa){this.oa=i;this.i()}};A.prototype.i=function(){};var ka=function(a){this.stack=Error().stack||"";if(a)this.message=String(a)};z(ka,Error);ka.prototype.name="CustomError";var la=function(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a},ma=/^[a-zA-Z0-9\-_.!~*'()]*$/,na=function(a){a=String(a);if(!ma.test(a))return encodeURIComponent(a);return a},ta=function(a){if(!oa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(pa,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(qa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(ra,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(sa,"&quot;");return a},pa=/&/g,qa=/</g,ra=/>/g,
sa=/\"/g,oa=/[&<>\"]/,va=function(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",o=e[g]||"",n=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var t=n.exec(j)||["","",""],s=B.exec(o)||["","",""];if(t[0].length==0&&s[0].length==0)break;c=ua(t[1].length==0?0:parseInt(t[1],10),s[1].length==0?0:parseInt(s[1],10))||ua(t[2].length==0,s[2].length==
0)||ua(t[2],s[2])}while(c==0)}return c},ua=function(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var wa=function(a,b){b.unshift(a);ka.call(this,la.apply(k,b));b.shift();this.qc=a};z(wa,ka);wa.prototype.name="AssertionError";var xa=function(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}h(new wa(""+d,e||[]))}return a},ya=function(a){h(new wa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var C=Array.prototype,za=C.indexOf?function(a,b,c){xa(a.length!=k);return C.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:c<0?Math.max(0,a.length+c):c;if(u(a)){if(!u(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Aa=C.forEach?function(a,b,c){xa(a.length!=k);C.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ba=function(a,b){var c=za(a,b),d;if(d=c>=0){xa(a.length!=k);C.splice.call(a,
c,1)}return d},Ca=function(){return C.concat.apply(C,arguments)},Da=function(a){if(q(a))return Ca(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}},Ea=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(q(c)||(d=r(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,g=0;g<f;g++)a[e+g]=c[g];else a.push(c)}},Fa=function(a,b,c){xa(a.length!=k);return arguments.length<=2?C.slice.call(a,b):C.slice.call(a,b,c)};var Ga=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Ha=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ia=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ja=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ka=function(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Ja.length;e++){b=Ja[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var La,Ma,Na,Oa,Pa=function(){return p.navigator?p.navigator.userAgent:k};Oa=Na=Ma=La=l;var Qa;if(Qa=Pa()){var Ra=p.navigator;La=Qa.indexOf("Opera")==0;Ma=!La&&Qa.indexOf("MSIE")!=-1;Na=!La&&Qa.indexOf("WebKit")!=-1;Oa=!La&&!Na&&Ra.product=="Gecko"}var D=Ma,Sa=Oa,E=Na,Ta=p.navigator,Ua=(Ta&&Ta.platform||"").indexOf("Mac")!=-1,Va;
a:{var Wa="",Xa;if(La&&p.opera){var Ya=p.opera.version;Wa=typeof Ya=="function"?Ya():Ya}else{if(Sa)Xa=/rv\:([^\);]+)(\)|;)/;else if(D)Xa=/MSIE\s+([^\);]+)(\)|;)/;else if(E)Xa=/WebKit\/(\S+)/;if(Xa){var Za=Xa.exec(Pa());Wa=Za?Za[1]:""}}if(D){var $a,ab=p.document;$a=ab?ab.documentMode:undefined;if($a>parseFloat(Wa)){Va=String($a);break a}}Va=Wa}var bb=Va,cb={},db=function(a){return cb[a]||(cb[a]=va(bb,a)>=0)};var eb,fb=!D||db("9");D&&db("9");var gb=function(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Fa(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(za(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};var G=function(a){return a?new hb(a.nodeType==9?a:a.ownerDocument||a.document):eb||(eb=new hb)},ib=function(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!E||document.compatMode=="CSS1Compat"||db("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)if(b==g.nodeName)d[e++]=g;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};
for(f=e=0;g=a[f];f++){b=g.className;if(typeof b.split=="function"&&za(b.split(/\s+/),c)>=0)d[e++]=g}d.length=e;return d}else return a},kb=function(a,b){Ga(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in jb)a.setAttribute(jb[d],c);else a[d]=c})},jb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"},
mb=function(a,b,c){function d(g){if(g)b.appendChild(u(g)?a.createTextNode(g):g)}for(var e=2;e<c.length;e++){var f=c[e];r(f)&&!(da(f)&&f.nodeType>0)?Aa(lb(f)?Da(f):f,d):d(f)}},nb=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):k},lb=function(a){if(a&&typeof a.length=="number")if(da(a))return typeof a.item=="function"||typeof a.item=="string";else if(v(a))return typeof a.item=="function";return l},hb=function(a){this.v=a||p.document||document};m=hb.prototype;
m.jb=function(){var a=this.v,b=arguments,c=b[0],d=b[1];if(!fb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ta(d.name),'"');if(d.type){c.push(' type="',ta(d.type),'"');var e={};Ka(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(u(d))c.className=d;else q(d)?gb.apply(k,[c].concat(d)):kb(c,d);b.length>2&&mb(a,c,b);return c};m.createElement=function(a){return this.v.createElement(a)};m.createTextNode=function(a){return this.v.createTextNode(a)};
m.e=function(){return this.v.parentWindow||this.v.defaultView};m.appendChild=function(a,b){a.appendChild(b)};m.removeNode=nb;m.contains=function(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var ob=new Function("a","return a");var pb;!D||db("9");D&&db("8");var qb=function(a,b){this.type=a;this.currentTarget=this.target=b};z(qb,A);qb.prototype.i=function(){delete this.type;delete this.target;delete this.currentTarget};qb.prototype.Qa=l;qb.prototype.gc=i;var rb=function(a,b){a&&this.sa(a,b)};z(rb,qb);m=rb.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.bc=l;m.pa=k;
m.sa=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Sa)try{ob(d.nodeName)}catch(e){d=k}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.bc=Ua?a.metaKey:a.ctrlKey;this.state=a.state;this.pa=a;delete this.gc;delete this.Qa};m.i=function(){rb.F.i.call(this);this.relatedTarget=this.currentTarget=this.target=this.pa=k};var H=function(a,b){this.ub=b;this.M=[];if(a>this.ub)h(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.M.push(this.A?this.A():{})};z(H,A);H.prototype.A=k;H.prototype.mb=k;var sb=function(a){if(a.M.length)return a.M.pop();return a.A?a.A():{}},ub=function(a,b){a.M.length<a.ub?a.M.push(b):tb(a,b)},tb=function(a,b){if(a.mb)a.mb(b);else if(da(b))if(v(b.H))b.H();else for(var c in b)delete b[c]};
H.prototype.i=function(){H.F.i.call(this);for(var a=this.M;a.length;)tb(this,a.pop());delete this.M};var vb;var wb=(vb="ScriptEngine"in p&&p.ScriptEngine()=="JScript")?p.ScriptEngineMajorVersion()+"."+p.ScriptEngineMinorVersion()+"."+p.ScriptEngineBuildVersion():"0";var xb=function(){},yb=0;m=xb.prototype;m.key=0;m.aa=l;m.cb=l;m.sa=function(a,b,c,d,e,f){if(v(a))this.rb=i;else if(a&&a.handleEvent&&v(a.handleEvent))this.rb=l;else h(Error("Invalid listener argument"));this.ga=a;this.Db=b;this.src=c;this.type=d;this.capture=!!e;this.Ka=f;this.cb=l;this.key=++yb;this.aa=l};m.handleEvent=function(a){if(this.rb)return this.ga.call(this.Ka||this.src,a);return this.ga.handleEvent.call(this.ga,a)};var zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb;
(function(){function a(){return{h:0,$:0}}function b(){return[]}function c(){var s=function(F){return g.call(s.src,s.key,F)};return s}function d(){return new xb}function e(){return new rb}var f=vb&&!(va(wb,"5.7")>=0),g;Eb=function(s){g=s};if(f){zb=function(){return sb(j)};Ab=function(s){ub(j,s)};Bb=function(){return sb(o)};Cb=function(s){ub(o,s)};Db=function(){return sb(n)};Fb=function(){ub(n,c())};Gb=function(){return sb(B)};Hb=function(s){ub(B,s)};Ib=function(){return sb(t)};Jb=function(s){ub(t,
s)};var j=new H(0,600);j.A=a;var o=new H(0,600);o.A=b;var n=new H(0,600);n.A=c;var B=new H(0,600);B.A=d;var t=new H(0,600);t.A=e}else{zb=a;Ab=ba;Bb=b;Cb=ba;Db=c;Fb=ba;Gb=d;Hb=ba;Ib=e;Jb=ba}})();var Kb={},I={},Lb={},Mb={},Nb=function(a,b,c,d,e){if(b)if(q(b)){for(var f=0;f<b.length;f++)Nb(a,b[f],c,d,e);return k}else{d=!!d;var g=I;b in g||(g[b]=zb());g=g[b];if(!(d in g)){g[d]=zb();g.h++}g=g[d];var j=w(a),o;g.$++;if(g[j]){o=g[j];for(f=0;f<o.length;f++){g=o[f];if(g.ga==c&&g.Ka==e){if(g.aa)break;return o[f].key}}}else{o=g[j]=Bb();g.h++}f=Db();f.src=a;g=Gb();g.sa(c,f,a,b,d,e);c=g.key;f.key=c;o.push(g);Kb[c]=g;Lb[j]||(Lb[j]=Bb());Lb[j].push(g);if(a.addEventListener){if(a==p||!a.Pb)a.addEventListener(b,
f,d)}else a.attachEvent(Ob(b),f);return c}else h(Error("Invalid event type"))},Pb=function(a,b,c,d,e){if(q(b)){for(var f=0;f<b.length;f++)Pb(a,b[f],c,d,e);return k}d=!!d;a:{f=I;if(b in f){f=f[b];if(d in f){f=f[d];a=w(a);if(f[a]){a=f[a];break a}}}a=k}if(!a)return l;for(f=0;f<a.length;f++)if(a[f].ga==c&&a[f].capture==d&&a[f].Ka==e)return Qb(a[f].key);return l},Qb=function(a){if(!Kb[a])return l;var b=Kb[a];if(b.aa)return l;var c=b.src,d=b.type,e=b.Db,f=b.capture;if(c.removeEventListener){if(c==p||!c.Pb)c.removeEventListener(d,
e,f)}else c.detachEvent&&c.detachEvent(Ob(d),e);c=w(c);e=I[d][f][c];if(Lb[c]){var g=Lb[c];Ba(g,b);g.length==0&&delete Lb[c]}b.aa=i;e.zb=i;Rb(d,f,c,e);delete Kb[a];return i},Rb=function(a,b,c,d){if(!d.ta)if(d.zb){for(var e=0,f=0;e<d.length;e++)if(d[e].aa){var g=d[e].Db;g.src=k;Fb(g);Hb(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.zb=l;if(f==0){Cb(d);delete I[a][b][c];I[a][b].h--;if(I[a][b].h==0){Ab(I[a][b]);delete I[a][b];I[a].h--}if(I[a].h==0){Ab(I[a]);delete I[a]}}}},Ob=function(a){if(a in Mb)return Mb[a];
return Mb[a]="on"+a},Tb=function(a,b,c,d,e){var f=1;b=w(b);if(a[b]){a.$--;a=a[b];if(a.ta)a.ta++;else a.ta=1;try{for(var g=a.length,j=0;j<g;j++){var o=a[j];if(o&&!o.aa)f&=Sb(o,e)!==l}}finally{a.ta--;Rb(c,d,b,a)}}return Boolean(f)},Sb=function(a,b){var c=a.handleEvent(b);a.cb&&Qb(a.key);return c};
Eb(function(a,b){if(!Kb[a])return i;var c=Kb[a],d=c.type,e=I;if(!(d in e))return i;e=e[d];var f,g;if(pb===undefined)pb=D&&!p.addEventListener;if(pb){f=b||aa("window.event");var j=i in e,o=l in e;if(j){if(f.keyCode<0||f.returnValue!=undefined)return i;a:{var n=l;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(B){n=i}if(n||f.returnValue==undefined)f.returnValue=i}}n=Ib();n.sa(f,this);f=i;try{if(j){for(var t=Bb(),s=n.currentTarget;s;s=s.parentNode)t.push(s);g=e[i];g.$=g.h;for(var F=t.length-1;!n.Qa&&
F>=0&&g.$;F--){n.currentTarget=t[F];f&=Tb(g,t[F],d,i,n)}if(o){g=e[l];g.$=g.h;for(F=0;!n.Qa&&F<t.length&&g.$;F++){n.currentTarget=t[F];f&=Tb(g,t[F],d,l,n)}}}else f=Sb(c,n)}finally{if(t){t.length=0;Cb(t)}n.H();Jb(n)}return f}d=new rb(b,this);try{f=Sb(c,d)}finally{d.H()}return f});var Ub=function(a){a=String(a);var b;b=/^\s*$/.test(a)?l:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}h(Error("Invalid JSON string: "+a))},Vb=function(){},Xb=function(a,b){var c=[];Wb(a,b,c);return c.join("")},Wb=function(a,b,c){switch(typeof b){case "string":Yb(a,b,c);
break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==k){c.push("null");break}if(q(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e);Wb(a,b[f],c);e=","}c.push("]");break}c.push("{");d="";for(e in b)if(b.hasOwnProperty(e)){f=b[e];if(typeof f!="function"){c.push(d);Yb(a,e,c);c.push(":");Wb(a,f,c);d=","}}c.push("}");break;case "function":break;default:h(Error("Unknown type: "+typeof b))}},
Zb={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},$b=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Yb=function(a,b,c){c.push('"',b.replace($b,function(d){if(d in Zb)return Zb[d];var e=d.charCodeAt(0),f="\\u";if(e<16)f+="000";else if(e<256)f+="00";else if(e<4096)f+="0";return Zb[d]=f+e.toString(16)}),'"')};var ac="StopIteration"in p?p.StopIteration:Error("StopIteration"),bc=function(){};bc.prototype.next=function(){h(ac)};bc.prototype.Da=function(){return this};var cc=function(a){if(typeof a.C=="function")return a.C();if(u(a))return a.split("");if(r(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ha(a)},dc=function(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(r(a)||u(a))Aa(a,b,c);else{var d;if(typeof a.V=="function")d=a.V();else if(typeof a.C!="function")if(r(a)||u(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f);d=d}else d=Ia(a);else d=void 0;e=cc(a);f=e.length;for(var g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};var ec=function(a){this.k={};this.j=[];var b=arguments.length;if(b>1){if(b%2)h(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.J(arguments[c],arguments[c+1])}else a&&this.Fa(a)};m=ec.prototype;m.h=0;m.Ca=0;m.C=function(){fc(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.k[this.j[b]]);return a};m.V=function(){fc(this);return this.j.concat()};m.G=function(a){return gc(this.k,a)};
m.remove=function(a){if(gc(this.k,a)){delete this.k[a];this.h--;this.Ca++;this.j.length>2*this.h&&fc(this);return i}return l};var fc=function(a){if(a.h!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];if(gc(a.k,d))a.j[c++]=d;b++}a.j.length=c}if(a.h!=a.j.length){var e={};for(c=b=0;b<a.j.length;){d=a.j[b];if(!gc(e,d)){a.j[c++]=d;e[d]=1}b++}a.j.length=c}};m=ec.prototype;m.N=function(a,b){if(gc(this.k,a))return this.k[a];return b};
m.J=function(a,b){if(!gc(this.k,a)){this.h++;this.j.push(a);this.Ca++}this.k[a]=b};m.Fa=function(a){var b;if(a instanceof ec){b=a.V();a=a.C()}else{b=Ia(a);a=Ha(a)}for(var c=0;c<b.length;c++)this.J(b[c],a[c])};m.S=function(){return new ec(this)};m.Da=function(a){fc(this);var b=0,c=this.j,d=this.k,e=this.Ca,f=this,g=new bc;g.next=function(){for(;;){if(e!=f.Ca)h(Error("The map has changed since the iterator was created"));if(b>=c.length)h(ac);var j=c[b++];return a?j:d[j]}};return g};
var gc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var hc=function(a){this.k=new ec;a&&this.Fa(a)},ic=function(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+w(a):b.substr(0,1)+a};m=hc.prototype;m.add=function(a){this.k.J(ic(a),a)};m.Fa=function(a){a=cc(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};m.remove=function(a){return this.k.remove(ic(a))};m.contains=function(a){return this.k.G(ic(a))};m.C=function(){return this.k.C()};m.S=function(){return new hc(this)};m.Da=function(){return this.k.Da(l)};var jc=function(a){var b=new hc,c=[],d=function(e,f){var g=f+"  ";try{if(e!==undefined)if(e===k)c.push("NULL");else if(u(e))c.push('"'+e.replace(/\n/g,"\n"+f)+'"');else if(v(e))c.push(String(e).replace(/\n/g,"\n"+f));else if(da(e))if(b.contains(e))c.push("*** reference loop detected ***");else{b.add(e);c.push("{");for(var j in e)if(!v(e[j])){c.push("\n");c.push(g);c.push(j+" = ");d(e[j],g)}c.push("\n"+f+"}")}else c.push(e);else c.push("undefined")}catch(o){c.push("*** "+o+" ***")}};d(a,"");return c.join("")},
lc=function(a){return kc(a||arguments.callee.caller,[])},kc=function(a,b){var c=[];if(za(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(mc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=mc(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";
c.push(f)}b.push(a);c.push(")\n");try{c.push(kc(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},mc=function(a){a=String(a);if(!nc[a]){var b=/function ([^\(]+)/.exec(a);nc[a]=b?b[1]:"[Anonymous]"}return nc[a]},nc={};var oc=function(a,b,c,d,e){this.reset(a,b,c,d,e)};oc.prototype.ya=0;oc.prototype.ob=k;oc.prototype.nb=k;var pc=0;oc.prototype.reset=function(a,b,c,d,e){this.ya=typeof e=="number"?e:pc++;this.sc=d||ja();this.fa=a;this.Xb=b;this.pc=c;delete this.ob;delete this.nb};oc.prototype.Ib=function(a){this.fa=a};var J=function(a){this.yb=a};J.prototype.wa=k;J.prototype.fa=k;J.prototype.Ga=k;J.prototype.pb=k;var qc=function(a,b){this.name=a;this.value=b};qc.prototype.toString=function(){return this.name};var K=new qc("SEVERE",1E3),rc=new qc("WARNING",900),sc=new qc("INFO",800),tc=new qc("CONFIG",700),uc=new qc("FINE",500),vc=new qc("FINEST",300);J.prototype.getName=function(){return this.yb};J.prototype.getParent=function(){return this.wa};J.prototype.Ib=function(a){this.fa=a};
var wc=function(a){if(a.fa)return a.fa;if(a.wa)return wc(a.wa);ya("Root logger has no level set.");return k};J.prototype.log=function(a,b,c){if(a.value>=wc(this).value){a=this.Sb(a,b,c);p.console&&p.console.markTimeline&&p.console.markTimeline("log:"+a.Xb);for(b=this;b;){c=b;var d=a;if(c.pb)for(var e=0,f=void 0;f=c.pb[e];e++)f(d);b=b.getParent()}}};
J.prototype.Sb=function(a,b,c){var d=new oc(a,String(b),this.yb);if(c){d.ob=c;var e;var f=arguments.callee.caller;try{var g,j=aa("window.location.href");g=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.oc||"Not available",fileName:c.fileName||c.filename||c.sourceURL||j,stack:c.stack||"Not available"}:c;e="Message: "+ta(g.message)+'\nUrl: <a href="view-source:'+
g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+ta(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ta(lc(f)+"-> ")}catch(o){e="Exception trying to expose exception! You win, we lose. "+o}d.nb=e}return d};var L=function(a,b){a.log(rc,b,void 0)};J.prototype.info=function(a,b){this.log(sc,a,b)};
var M=function(a,b){a.log(uc,b,void 0)},N=function(a,b){a.log(vc,b,void 0)},xc={},yc=k,zc=function(a){if(!yc){yc=new J("");xc[""]=yc;yc.Ib(tc)}var b;if(!(b=xc[a])){b=new J(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=zc(a.substr(0,c));if(!c.Ga)c.Ga={};c.Ga[d]=b;b.wa=c;b=xc[a]=b}return b};var Ac=function(){this.Aa={}};z(Ac,A);Ac.prototype.ua=zc("goog.messaging.AbstractChannel");Ac.prototype.u=function(a){a&&a()};Ac.prototype.t=function(){return i};var Bc=function(a,b,c){a.Aa[b]={db:c,La:l}};Ac.prototype.i=function(){Ac.F.i.call(this);var a=this.ua;a&&typeof a.H=="function"&&a.H();delete this.ua;delete this.Aa;delete this.lb};var Cc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var O=function(a,b){var c;if(a instanceof O){this.ba(b==k?a.w:b);Dc(this,a.n);Ec(this,a.ja);Fc(this,a.L);Gc(this,a.Q);Hc(this,a.Z);Ic(this,a.z.S());Jc(this,a.ea)}else if(a&&(c=String(a).match(Cc))){this.ba(!!b);Dc(this,c[1]||"",i);Ec(this,c[2]||"",i);Fc(this,c[3]||"",i);Gc(this,c[4]);Hc(this,c[5]||"",i);Ic(this,c[6]||"",i);Jc(this,c[7]||"",i)}else{this.ba(!!b);this.z=new Kc(k,this,this.w)}};m=O.prototype;m.n="";m.ja="";m.L="";m.Q=k;m.Z="";m.ea="";m.Wb=l;m.w=l;
m.toString=function(){if(this.r)return this.r;var a=[];this.n&&a.push(Lc(this.n,Mc),":");if(this.L){a.push("//");this.ja&&a.push(Lc(this.ja,Mc),"@");var b;b=this.L;b=u(b)?encodeURIComponent(b):k;a.push(b);this.Q!=k&&a.push(":",String(this.Q))}if(this.Z){this.L&&this.Z.charAt(0)!="/"&&a.push("/");a.push(Lc(this.Z,Nc))}(b=String(this.z))&&a.push("?",b);this.ea&&a.push("#",Lc(this.ea,Oc));return this.r=a.join("")};
m.S=function(){var a=this.n,b=this.ja,c=this.L,d=this.Q,e=this.Z,f=this.z.S(),g=this.ea,j=new O(k,this.w);a&&Dc(j,a);b&&Ec(j,b);c&&Fc(j,c);d&&Gc(j,d);e&&Hc(j,e);f&&Ic(j,f);g&&Jc(j,g);return j};
var Dc=function(a,b,c){P(a);delete a.r;a.n=c?b?decodeURIComponent(b):"":b;if(a.n)a.n=a.n.replace(/:$/,"");return a},Ec=function(a,b,c){P(a);delete a.r;a.ja=c?b?decodeURIComponent(b):"":b;return a},Fc=function(a,b,c){P(a);delete a.r;a.L=c?b?decodeURIComponent(b):"":b;return a},Gc=function(a,b){P(a);delete a.r;if(b){b=Number(b);if(isNaN(b)||b<0)h(Error("Bad port number "+b));a.Q=b}else a.Q=k;return a},Hc=function(a,b,c){P(a);delete a.r;a.Z=c?b?decodeURIComponent(b):"":b;return a},Ic=function(a,b,c){P(a);
delete a.r;if(b instanceof Kc){a.z=b;a.z.Wa=a;a.z.ba(a.w)}else{c||(b=Lc(b,Pc));a.z=new Kc(b,a,a.w)}return a},Qc=function(a,b,c){P(a);delete a.r;a.z.J(b,c);return a},Jc=function(a,b,c){P(a);delete a.r;a.ea=c?b?decodeURIComponent(b):"":b;return a},P=function(a){if(a.Wb)h(Error("Tried to modify a read-only Uri"))};O.prototype.ba=function(a){this.w=a;this.z&&this.z.ba(a)};
var Rc=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,Lc=function(a,b){var c=k;if(u(a)){c=a;Rc.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c.replace(b,Sc)}return c},Sc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Mc=/[#\/\?@]/g,Nc=/[\#\?]/g,Pc=/[\#\?@]/g,Oc=/#/g,Kc=function(a,b,c){this.B=a||k;this.Wa=b||k;this.w=!!c},Q=function(a){if(!a.f){a.f=new ec;if(a.B)for(var b=a.B.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=k,f=k;if(d>=0){e=b[c].substring(0,d);f=b[c].substring(d+
1)}else e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Tc(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};m=Kc.prototype;m.f=k;m.h=k;m.add=function(a,b){Q(this);Uc(this);a=Tc(this,a);if(this.G(a)){var c=this.f.N(a);q(c)?c.push(b):this.f.J(a,[c,b])}else this.f.J(a,b);this.h++;return this};m.remove=function(a){Q(this);a=Tc(this,a);if(this.f.G(a)){Uc(this);var b=this.f.N(a);if(q(b))this.h-=b.length;else this.h--;return this.f.remove(a)}return l};
m.G=function(a){Q(this);a=Tc(this,a);return this.f.G(a)};m.V=function(){Q(this);for(var a=this.f.C(),b=this.f.V(),c=[],d=0;d<b.length;d++){var e=a[d];if(q(e))for(var f=0;f<e.length;f++)c.push(b[d]);else c.push(b[d])}return c};m.C=function(a){Q(this);if(a){a=Tc(this,a);if(this.G(a)){var b=this.f.N(a);if(q(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.f.C();a=[];for(var c=0;c<b.length;c++){var d=b[c];q(d)?Ea(a,d):a.push(d)}}return a};
m.J=function(a,b){Q(this);Uc(this);a=Tc(this,a);if(this.G(a)){var c=this.f.N(a);if(q(c))this.h-=c.length;else this.h--}this.f.J(a,b);this.h++;return this};m.N=function(a,b){Q(this);a=Tc(this,a);if(this.G(a)){var c=this.f.N(a);return q(c)?c[0]:c}else return b};
m.toString=function(){if(this.B)return this.B;if(!this.f)return"";for(var a=[],b=0,c=this.f.V(),d=0;d<c.length;d++){var e=c[d],f=na(e);e=this.f.N(e);if(q(e))for(var g=0;g<e.length;g++){b>0&&a.push("&");a.push(f);e[g]!==""&&a.push("=",na(e[g]));b++}else{b>0&&a.push("&");a.push(f);e!==""&&a.push("=",na(e));b++}}return this.B=a.join("")};var Uc=function(a){delete a.Ia;delete a.B;a.Wa&&delete a.Wa.r};
Kc.prototype.S=function(){var a=new Kc;if(this.Ia)a.Ia=this.Ia;if(this.B)a.B=this.B;if(this.f)a.f=this.f.S();return a};var Tc=function(a,b){var c=String(b);if(a.w)c=c.toLowerCase();return c};Kc.prototype.ba=function(a){if(a&&!this.w){Q(this);Uc(this);dc(this.f,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.w=a};var Vc={"1":"NativeMessagingTransport","2":"FrameElementMethodTransport","3":"IframeRelayTransport","4":"IframePollingTransport","5":"FlashTransport","6":"NixTransport"},Wc=["pu","lru","pru","lpu","ppu"],R={},Yc=function(a){for(var b=Xc,c=b.length,d="";a-- >0;)d+=b.charAt(Math.floor(Math.random()*c));return d},Xc="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",S=zc("goog.net.xpc");var T=function(a){this.o=a||G()};z(T,A);T.prototype.ca=0;T.prototype.e=function(){return this.o.e()};T.prototype.getName=function(){return Vc[this.ca]||""};var Zc=function(a,b){this.o=b||G();this.a=a;this.ha=[];this.Qb=x(this.Rb,this)};z(Zc,T);m=Zc.prototype;m.ca=2;m.Sa=l;m.kc=0;m.u=function(){if($c(this.a)==0){this.D=this.a.W;this.D.XPC_toOuter=x(this.qb,this)}else this.ab()};
m.ab=function(){var a=i;try{if(!this.D)this.D=this.e().frameElement;if(this.D&&this.D.XPC_toOuter){this.Na=this.D.XPC_toOuter;this.D.XPC_toOuter.XPC_toInner=x(this.qb,this);a=l;this.send("tp","SETUP_ACK");U(this.a)}}catch(b){S.log(K,"exception caught while attempting setup: "+b,void 0)}if(a){if(!this.$a)this.$a=x(this.ab,this);this.e().setTimeout(this.$a,100)}};m.Va=function(a){if($c(this.a)==0&&!this.a.t()&&a=="SETUP_ACK"){this.Na=this.D.XPC_toOuter.XPC_toInner;U(this.a)}else h(Error("Got unexpected transport message."))};
m.qb=function(a,b){if(!this.Sa&&this.ha.length==0)V(this.a,a,b);else{this.ha.push({jc:a,Pa:b});if(this.ha.length==1)this.kc=this.e().setTimeout(this.Qb,1)}};m.Rb=function(){for(;this.ha.length;){var a=this.ha.shift();V(this.a,a.jc,a.Pa)}};m.send=function(a,b){this.Sa=i;this.Na(a,b);this.Sa=l};m.i=function(){Zc.F.i.call(this);this.D=this.Na=k};var W=function(a,b){this.o=b||G();this.a=a;this.ia=this.a.b.ppu;this.ec=this.a.b.lpu;this.xa=[]},ad,bd;z(W,T);W.prototype.ca=4;W.prototype.za=0;W.prototype.da=l;W.prototype.P=l;var cd=function(a){return"googlexpc_"+a.a.name+"_msg"},dd=function(a){return"googlexpc_"+a.a.name+"_ack"};
W.prototype.u=function(){M(S,"transport connect called");if(!this.P){M(S,"initializing...");var a=cd(this);this.Y=ed(this,a);this.Ma=this.e().frames[a];a=dd(this);this.R=ed(this,a);this.Ea=this.e().frames[a];this.P=i}if(fd(this,cd(this))&&fd(this,dd(this))){M(S,"foreign frames present");this.wb=new gd(this,this.a.q.frames[cd(this)],x(this.dc,this));this.Xa=new gd(this,this.a.q.frames[dd(this)],x(this.cc,this));this.fb()}else{N(S,"foreign frames not (yet) present");if($c(this.a)==1&&!this.fc){N(S,
"innerPeerReconnect called");this.a.name=Yc(10);N(S,"switching channels: "+this.a.name);hd(this);this.P=l;this.fc=ed(this,"googlexpc_reconnect_"+this.a.name)}else if($c(this.a)==0){N(S,"outerPeerReconnect called");a=this.a.q.frames;for(var b=a.length,c=0;c<b;c++){var d;try{if(a[c]&&a[c].name)d=a[c].name}catch(e){}if(d){var f=d.split("_");if(f.length==3&&f[0]=="googlexpc"&&f[1]=="reconnect"){this.a.name=f[2];hd(this);this.P=l;break}}}}this.e().setTimeout(x(this.u,this),100)}};
var ed=function(a,b){N(S,"constructing sender frame: "+b);var c=document.createElement("iframe"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.ia+"#INITIAL";a.e().document.body.appendChild(c);return c},hd=function(a){N(S,"deconstructSenderFrames called");if(a.Y){a.Y.parentNode.removeChild(a.Y);a.Y=k;a.Ma=k}if(a.R){a.R.parentNode.removeChild(a.R);a.R=k;a.Ea=k}},fd=function(a,b){N(S,"checking for receive frame: "+b);try{var c=a.a.q.frames[b];
if(!c||c.location.href.indexOf(a.ec)!=0)return l}catch(d){return l}return i};W.prototype.fb=function(){var a=this.a.q.frames;if(a[dd(this)]&&a[cd(this)]){this.xb=new id(this.ia,this.Ma);this.la=new id(this.ia,this.Ea);M(S,"local frames ready");this.e().setTimeout(x(function(){this.xb.send("SETUP");this.da=this.rc=i;M(S,"SETUP sent")},this),100)}else{if(!this.eb)this.eb=x(this.fb,this);this.e().setTimeout(this.eb,100);M(S,"local frames not (yet) present")}};
var jd=function(a){if(a.Ta&&a.Fb){U(a.a);if(a.T){M(S,"delivering queued messages ("+a.T.length+")");for(var b=0,c;b<a.T.length;b++){c=a.T[b];V(a.a,c.ic,c.Pa)}delete a.T}}else N(S,"checking if connected: ack sent:"+a.Ta+", ack rcvd: "+a.Fb)};
W.prototype.dc=function(a){N(S,"msg received: "+a);if(a=="SETUP"){if(this.la){this.la.send("SETUP_ACK");N(S,"SETUP_ACK sent");this.Ta=i;jd(this)}}else if(this.a.t()||this.Ta){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(b==-1){var d;this.la.send("ACK:"+c);kd(this,a)}else{d=c.substring(0,b);this.la.send("ACK:"+d);c=c.substring(b+1).split("/");b=parseInt(c[0],10);c=parseInt(c[1],10);if(b==1)this.Oa=[];this.Oa.push(a);if(b==c){kd(this,this.Oa.join(""));delete this.Oa}}}else L(S,
"received msg, but channel is not connected")};W.prototype.cc=function(a){N(S,"ack received: "+a);if(a=="SETUP_ACK"){this.da=l;this.Fb=i;jd(this)}else if(this.a.t())if(this.da)if(parseInt(a.split(":")[1],10)==this.za){this.da=l;ld(this)}else L(S,"got ack with wrong sequence");else L(S,"got unexpected ack");else L(S,"received ack, but channel not connected")};
var ld=function(a){if(!(a.da||!a.xa.length)){var b=a.xa.shift();++a.za;a.xb.send(a.za+b);N(S,"msg sent: "+a.za+b);a.da=i}},kd=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);c=b.substring(c+1);if(a.a.t())V(a.a,d,c);else{(a.T||(a.T=[])).push({ic:d,Pa:c});N(S,"queued delivery")}};W.prototype.ka=3800;
W.prototype.send=function(a,b){var c=a+":"+b;if(!D||b.length<=this.ka)this.xa.push("|"+c);else for(var d=b.length,e=Math.ceil(d/this.ka),f=0,g=1;f<d;){this.xa.push(","+g+"/"+e+"|"+c.substr(f,this.ka));g++;f+=this.ka}ld(this)};W.prototype.i=function(){W.F.i.call(this);var a=md;Ba(a,this.wb);Ba(a,this.Xa);this.wb=this.Xa=k;nb(this.Y);nb(this.R);this.Ma=this.Ea=this.Y=this.R=k};
var md=[],nd=x(function(){var a=l;try{for(var b=0,c=md.length;b<c;b++){var d;if(!(d=a)){var e=md[b],f=e.Eb.location.href;if(f!=e.kb){e.kb=f;var g=f.split("#")[1];if(g){g=g.substr(1);e.Nb(decodeURIComponent(g))}d=i}else d=l}a=d}}catch(j){S.info("receive_() failed: "+j);b=md[b].l.a;S.info("Transport Error");b.close();if(!md.length)return}b=ja();if(a)ad=b;bd=window.setTimeout(nd,b-ad<1E3?10:100)},W),od=function(){M(S,"starting receive-timer");ad=ja();bd&&window.clearTimeout(bd);bd=window.setTimeout(nd,
10)},id=function(a,b){this.ia=a;this.Hb=b;this.Ha=0};id.prototype.send=function(a){this.Ha=++this.Ha%2;a=this.ia+"#"+this.Ha+encodeURIComponent(a);try{if(E)this.Hb.location.href=a;else this.Hb.location.replace(a)}catch(b){S.log(K,"sending failed",b)}od()};var gd=function(a,b,c){this.l=a;this.Eb=b;this.Nb=c;this.kb=this.Eb.location.href.split("#")[0]+"#INITIAL";md.push(this);od()};var X=function(a,b){this.o=b||G();this.a=a;this.ac=this.a.b.pru;this.Cb=this.a.b.ifrid;E&&pd()};z(X,T);if(E)var qd=[],rd=0,pd=function(){rd||(rd=window.setTimeout(function(){sd()},1E3))},sd=function(a){var b=ja();for(a=a||3E3;qd.length&&b-qd[0].timestamp>=a;){var c=qd.shift().Vb;nb(c);N(S,"iframe removed")}rd=window.setTimeout(td,1E3)},td=function(){sd()};X.prototype.ca=3;X.prototype.u=function(){this.e().xpcRelay||(this.e().xpcRelay=ud);this.send("tp","SETUP")};
var ud=function(a,b){var c=b.indexOf(":");V(R[a],b.substring(0,c),decodeURIComponent(b.substring(c+1)))};X.prototype.Va=function(a){if(a=="SETUP"){this.send("tp","SETUP_ACK");U(this.a)}else a=="SETUP_ACK"&&U(this.a)};
X.prototype.send=function(a,b){if(D){var c=this.e().document.createElement("div");c.innerHTML='<iframe onload="this.xpcOnload()"></iframe>';c=c.childNodes[0];c.mc=vd}else{c=this.e().document.createElement("iframe");E?qd.push({timestamp:ja(),Vb:c}):Nb(c,"load",vd)}var d=c.style;d.visibility="hidden";d.width=c.style.height="0px";d.position="absolute";d=this.ac;d+="#"+this.a.name;if(this.Cb)d+=","+this.Cb;d+="|"+a+":"+encodeURIComponent(b);c.src=d;this.e().document.body.appendChild(c);N(S,"msg sent: "+
d)};var vd=function(){N(S,"iframe-load");nb(this);this.mc=k};X.prototype.i=function(){X.F.i.call(this);E&&sd(0)};var Y=function(a,b,c){this.o=c||G();this.a=a;this.Bb=b||"*"};z(Y,T);Y.prototype.P=l;Y.prototype.ca=1;
var wd={},xd=function(a){var b=a.pa.data,c=b.indexOf("|"),d=b.indexOf(":");if(c==-1||d==-1)return l;var e=b.substring(0,c);c=b.substring(c+1,d);b=b.substring(d+1);M(S,"messageReceived: channel="+e+", service="+c+", payload="+b);if(d=R[e]){V(d,c,b,a.pa.origin);return i}for(var f in R){a=R[f];if($c(a)==1&&!a.t()&&c=="tp"&&b=="SETUP"){M(S,"changing channel name to "+e);a.name=e;delete R[f];R[e]=a;V(a,c,b);return i}}S.info('channel name mismatch; message ignored"');return l};m=Y.prototype;
m.Va=function(a){switch(a){case "SETUP":this.send("tp","SETUP_ACK");break;case "SETUP_ACK":U(this.a)}};m.u=function(){var a=this.e(),b=w(a),c=wd[b];typeof c=="number"||(c=0);if(c==0)Nb(a.postMessage?a:a.document,"message",xd,l,Y);wd[b]=c+1;this.P=i;this.ib()};m.ib=function(){if(!(this.a.t()||this.oa)){this.send("tp","SETUP");this.e().setTimeout(x(this.ib,this),100)}};
m.send=function(a,b){var c=this.a.q;if(c){var d=c.postMessage?c:c.document;this.send=function(e,f){M(S,"send(): payload="+f+" to hostname="+this.Bb);d.postMessage(this.a.name+"|"+e+":"+f,this.Bb)};this.send(a,b)}else M(S,"send(): window not ready")};m.i=function(){Y.F.i.call(this);if(this.P){var a=this.e(),b=w(a),c=wd[b];wd[b]=c-1;if(c==1)Pb(a.postMessage?a:a.document,"message",xd,l,Y)}};var yd=function(a,b){this.o=b||G();this.a=a;this.bb=a.at||"";this.Gb=a.rat||"";var c=this.e();if(!c.nix_setup_complete)try{c.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript");c.nix_setup_complete=i}catch(d){S.log(K,"exception caught while attempting global setup: "+d,void 0)}this.GCXPC____NIXJS_handle_message=this.Tb;this.GCXPC____NIXJS_create_channel=this.Ob};z(yd,T);m=yd.prototype;m.ca=6;m.X=l;m.I=k;m.u=function(){$c(this.a)==0?this.Za():this.Ya()};
m.Za=function(){if(!this.X){var a=this.a.W;try{a.contentWindow.opener=this.e().GCXPC____NIXVBS_get_wrapper(this,this.bb);this.X=i}catch(b){S.log(K,"exception caught while attempting setup: "+b,void 0)}this.X||this.e().setTimeout(x(this.Za,this),100)}};
m.Ya=function(){if(!this.X){try{var a=this.e().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.I=a;if(this.I.GetAuthToken()!=this.Gb){S.log(K,"Invalid auth token from other party",void 0);return}this.I.CreateChannel(this.e().GCXPC____NIXVBS_get_wrapper(this,this.bb));this.X=i;U(this.a)}}catch(b){S.log(K,"exception caught while attempting setup: "+b,void 0);return}this.X||this.e().setTimeout(x(this.Ya,this),100)}};
m.Ob=function(a){if(typeof a!="unknown"||!("GCXPC____NIXVBS_container"in a))S.log(K,"Invalid NIX channel given to createChannel_",void 0);this.I=a;this.I.GetAuthToken()!=this.Gb?S.log(K,"Invalid auth token from other party",void 0):U(this.a)};m.Tb=function(a,b){this.e().setTimeout(x(function(){V(this.a,a,b)},this),1)};m.send=function(a,b){typeof this.I!=="unknown"&&S.log(K,"NIX channel not connected",void 0);this.I.SendMessage(a,b)};m.i=function(){yd.F.i.call(this);this.I=k};var Z=function(a,b){this.Aa={};for(var c=0,d;d=Wc[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))h(Error("URI "+a[d]+" is invalid for field "+d));this.b=a;this.name=this.b.cn||Yc(10);this.o=b||G();R[this.name]=this;Nb(window,"unload",zd);S.info("CrossPageChannel created: "+this.name)};z(Z,Ac);var Ad=/^%*tp$/,Bd=/^%+tp$/;m=Z.prototype;m.l=k;m.Ua=1;m.t=function(){return this.Ua==2};m.q=k;m.W=k;
var Cd=function(a){var b={};b.cn=a.name;b.tp=a.b.tp;if(a.b.lru)b.pru=a.b.lru;if(a.b.lpu)b.ppu=a.b.lpu;if(a.b.ppu)b.lpu=a.b.ppu;return b},Dd=function(a,b){var c=a.b.ifrid;c||(c=a.b.ifrid="xpcpeer"+Yc(4));var d=document.createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";var e=a.b.pu;if(u(e))e=a.b.pu=new O(e);Qc(e,"xpc",Xb(new Vb,Cd(a)));if(Sa||E){a.Ja=i;window.setTimeout(x(function(){this.Ja=l;b.appendChild(d);d.src=e.toString();S.info("peer iframe created ("+c+")");this.hb&&
this.u(this.gb)},a),1)}else{d.src=e.toString();b.appendChild(d);S.info("peer iframe created ("+c+")")}return d};Z.prototype.Ja=l;Z.prototype.hb=l;
Z.prototype.u=function(a){this.gb=a||ba;if(this.Ja){S.info("connect() deferred");this.hb=i}else{S.info("connect()");if(this.b.ifrid)this.W=u(this.b.ifrid)?this.o.v.getElementById(this.b.ifrid):this.b.ifrid;if(this.W){(a=this.W.contentWindow)||(a=window.frames[this.b.ifrid]);this.q=a}if(!this.q)if(window==top)h(Error("CrossPageChannel: Can't connect, peer window-object not set."));else this.q=window.parent;if(!this.l){if(!this.b.tp){a=this.b;var b;if(v(document.postMessage)||v(window.postMessage)||
D&&window.postMessage)b=1;else if(Sa)b=2;else if(D&&this.b.pru)b=3;else if(D)b=6;else if(this.b.lpu&&this.b.ppu)b=4;a.tp=b}switch(this.b.tp){case 1:this.l=new Y(this,this.b.ph,this.o);break;case 6:this.l=new yd(this,this.o);break;case 2:this.l=new Zc(this,this.o);break;case 3:this.l=new X(this,this.o);break;case 4:this.l=new W(this,this.o)}if(this.l)S.info("Transport created: "+this.l.getName());else h(Error("CrossPageChannel: No suitable transport found!"))}this.l.u()}};
Z.prototype.close=function(){if(this.t()){this.Ua=3;this.l.H();this.l=k;S.info('Channel "'+this.name+'" closed')}};var U=function(a){if(!a.t()){a.Ua=2;S.info('Channel "'+a.name+'" connected');a.gb()}};Z.prototype.send=function(a,b){if(this.t())if(this.q.closed){S.log(K,"Peer has disappeared.",void 0);this.close()}else{if(da(b))b=Xb(new Vb,b);this.l.send(Ed(this,a),b)}else S.log(K,"Can't send. Channel not connected.",void 0)};
var V=function(a,b,c,d){var e=a.b.ph;if(/^[\s\xa0]*$/.test(d==k?"":String(d))||/^[\s\xa0]*$/.test(e==k?"":String(e))||d==a.b.ph)if(a.oa)L(S,"CrossPageChannel::deliver_(): Disposed.");else if(!b||b=="tp")a.l.Va(c);else if(a.t()){b=b.replace(/%[0-9a-f]{2}/gi,decodeURIComponent);b=Bd.test(b)?b.substring(1):b;a:{c=c;d=a.Aa[b];if(!d)if(a.lb){d=ia(a.lb,b);e=da(c);d={db:d,La:e}}else{L(a.ua,'Unknown service name "'+b+'" (payload: '+jc(c)+")");break a}if(d.La&&u(c))try{c=Ub(c)}catch(f){L(a.ua,"Expected JSON payload for "+
b+', was "'+c+'"');break a}else if(!d.La&&!u(c))c=Xb(new Vb,c);d.db(c)}}else S.info("CrossPageChannel::deliver_(): Not connected.");else L(S,'Message received from unapproved origin "'+d+'" - rejected.')},Ed=function(a,b){if(Ad.test(b))b="%"+b;return b.replace(/[%:|]/g,encodeURIComponent)},$c=function(a){return window.parent==a.q?1:0};Z.prototype.i=function(){Z.F.i.call(this);this.close();this.W=this.q=k;delete R[this.name]};var zd=function(){for(var a in R){var b=R[a];b&&b.H()}};var Fd=function(a,b){if(D)a.cssText=b;else a[E?"innerText":"innerHTML"]=b};var Gd=function(a,b,c){var d=new O(window.location.href),e=new O;Dc(e,d.n);Fc(e,"talkgadget.google.com");Hc(e,"/talkgadget/d");Qc(e,"token",a);Dc(new O,d.n);a=c||"wcs-iframe";c="#"+a+" { display: none; }";var f=G(void 0),g=k;if(D){g=f.v.createStyleSheet();Fd(g,c)}else{var j=ib(f.v,"head",void 0,void 0)[0];if(!j){g=ib(f.v,"body",void 0,void 0)[0];j=f.jb("head");g.parentNode.insertBefore(j,g)}g=f.jb("style");Fd(g,c);f.appendChild(j,g)}c=new O;Dc(c,d.n);Fc(c,d.L);Gc(c,d.Q);Hc(c,b);b=new O;Dc(b,d.n);
Fc(b,"talkgadget.google.com");Hc(b,"/talkgadget/xpc_blank");f={};if(d.n=="http"||d.n=="https"){f.ppu=c.toString();f.lpu=b.toString()}f.ifrid=a;f.pu=e.toString();Z.call(this,f)};z(Gd,Z);y("chat.WcsCrossPageChannel",Gd);var Hd=k,Id=k,Jd=k;var $=function(a,b,c,d,e){this.readyState=0;this.Ra=[];this.onopen=b.onopen;this.onmessage=b.onmessage;this.onerror=b.onerror;this.onclose=b.onclose;this.K=c||new Gd(a,"/_ah/channel/xpc_blank");this.ra=c?d:"wcs-iframe";this.vb=e||new Kd(a);if(!document.body)h("document.body is not defined -- do not create socket from script in <head>.");Dd(this.K,document.body);Bc(this.K,"opened",x(this.$b,this));Bc(this.K,"onMessage",x(this.Zb,this));Bc(this.K,"onError",x(this.Yb,this));Bc(this.K,"onClosed",x(this.Ab,
this));this.K.u(x(function(){},this))};$.prototype.send=function(){return l};$.prototype.close=function(){this.Ab()};$.prototype.hc=function(){for(var a=0,b;b=this.Ra[a];a++)switch(b.type){case 0:this.onopen(b.qa);break;case 1:this.onmessage(b.qa);break;case 2:this.onerror(b.qa);break;case 3:this.onclose(b.qa)}this.Ra=[]};var Ld=function(a,b,c){a.Ra.push({type:b,qa:c});window.setTimeout(x(a.hc,a),1)};
$.prototype.Zb=function(a){a=Ub(a);var b=a.m;a=a.s;for(var c=this.vb,d=[],e=0,f=0;f<b.length;f++){for(var g=b.charCodeAt(f);g>255;){d[e++]=g&255;g>>=8}d[e++]=g}d.push(c.ya);c=c.Ub;c.reset();c.update(d);a:{d=c.U();if(!r(d)||!r(a)||d.length!=a.length)a=l;else{c=d.length;for(e=0;e<c;e++)if(d[e]!==a[e]){a=l;break a}a=i}}a&&Ld(this,1,{data:b});this.vb.ya++};$.prototype.Yb=function(a){a=Ub(a);Ld(this,2,{description:a.d,code:a.c})};$.prototype.$b=function(){this.readyState=1;Ld(this,0,{})};
$.prototype.Ab=function(){this.K.close();this.readyState=3;Ld(this,3,{});if(this.ra){var a=new hb,b=u(this.ra)?a.v.getElementById(this.ra):this.ra;b&&a.removeNode(b)}};
var Kd=function(a,b,c){for(;a.length%4!=0;)a+=".";this.ya=0;a=a;if(a.length%4)h(Error("Length of b64-encoded data must be zero mod four"));if(!Hd){Hd={};Id={};Jd={};for(var d=0;d<65;d++){Hd[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d);Id[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(d);Jd[Id[d]]=d}}d=Jd;for(var e=[],f=0;f<a.length;f+=4){var g=d[a.charAt(f)],j=d[a.charAt(f+1)],o=d[a.charAt(f+2)],n=d[a.charAt(f+3)];if(g==k||j==k||o==
k||n==k)h(Error());e.push(g<<2|j>>4);if(o!=64){e.push(j<<4&240|o>>2);n!=64&&e.push(o<<6&192|n)}}this.Jb=e;this.p=b||new SHA1;this.Ub=c||new G_HMAC(this.p,this.Jb,this.Jb.length)};y("goog.appengine.Socket",$);y("goog.appengine.Socket.ReadyState",{CONNECTING:0,OPEN:1,nc:2,CLOSED:3});y("goog.appengine.Socket.ReadyState.CONNECTING",0);y("goog.appengine.Socket.ReadyState.OPEN",1);y("goog.appengine.Socket.ReadyState.CLOSING",2);y("goog.appengine.Socket.ReadyState.CLOSED",3);
y("goog.appengine.Socket.prototype.send",$.prototype.send);y("goog.appengine.Socket.prototype.close",$.prototype.close);var Md=function(a){this.lc=a},Nd={onopen:function(){},onclose:function(){},onerror:function(){},onmessage:function(){}};Md.prototype.open=function(a){a=a||Nd;return new $(this.lc,a)};y("goog.appengine.Channel",Md);y("goog.appengine.Channel.prototype.open",Md.prototype.open);SHA1=function(){this.g=Array(5);this.na=Array(64);this.Mb=Array(80);this.va=Array(64);this.va[0]=128;for(var a=1;a<64;++a)this.va[a]=0;this.reset()};SHA1.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.Ba=this.O=0};
var Od=function(a,b){for(var c=a.Mb,d=0;d<64;d+=4)c[d/4]=b[d]<<24|b[d+1]<<16|b[d+2]<<8|b[d+3];for(d=16;d<80;++d)c[d]=((c[d-3]^c[d-8]^c[d-14]^c[d-16])<<1|(c[d-3]^c[d-8]^c[d-14]^c[d-16])>>>31)&4294967295;var e=a.g[0],f=a.g[1],g=a.g[2],j=a.g[3],o=a.g[4],n,B;for(d=0;d<80;++d){if(d<40)if(d<20){n=j^f&(g^j);B=1518500249}else{n=f^g^j;B=1859775393}else if(d<60){n=f&g|j&(f|g);B=2400959708}else{n=f^g^j;B=3395469782}n=((e<<5|e>>>27)&4294967295)+n+o+B+c[d]&4294967295;o=j;j=g;g=(f<<30|f>>>2)&4294967295;f=e;e=n}a.g[0]=
a.g[0]+e&4294967295;a.g[1]=a.g[1]+f&4294967295;a.g[2]=a.g[2]+g&4294967295;a.g[3]=a.g[3]+j&4294967295;a.g[4]=a.g[4]+o&4294967295};SHA1.prototype.update=function(a,b){if(!b)b=a.length;var c=0;if(this.O==0)for(;c+64<b;){Od(this,a.slice(c,c+64));c+=64;this.Ba+=64}for(;c<b;){this.na[this.O++]=a[c++];++this.Ba;if(this.O==64){this.O=0;for(Od(this,this.na);c+64<b;){Od(this,a.slice(c,c+64));c+=64;this.Ba+=64}}}};
SHA1.prototype.U=function(){var a=Array(20),b=this.Ba*8;this.O<56?this.update(this.va,56-this.O):this.update(this.va,64-(this.O-56));for(var c=63;c>=56;--c){this.na[c]=b&255;b>>>=8}Od(this,this.na);for(c=b=0;c<5;++c)for(var d=24;d>=0;d-=8)a[b++]=this.g[c]>>d&255;return a};G_HMAC=function(a,b,c){if(!a||typeof a!="object"||!a.reset||!a.update||!a.U)h(Error("Invalid hasher object. Hasher unspecified or does not implement expected interface."));if(b.constructor!=Array)h(Error("Invalid key."));if(c&&typeof c!="number")h(Error("Invalid block size."));this.p=a;this.ma=c||16;this.tb=Array(this.ma);this.sb=Array(this.ma);if(b.length>this.ma){this.p.update(b);b=this.p.U()}for(c=0;c<this.ma;c++){a=c<b.length?b[c]:0;this.tb[c]=a^G_HMAC.Lb;this.sb[c]=a^G_HMAC.Kb}};G_HMAC.Lb=92;
G_HMAC.Kb=54;G_HMAC.prototype.reset=function(){this.p.reset();this.p.update(this.sb)};G_HMAC.prototype.update=function(a){if(a.constructor!=Array)h(Error("Invalid data. Data must be an array."));this.p.update(a)};G_HMAC.prototype.U=function(){var a=this.p.U();this.p.reset();this.p.update(this.tb);this.p.update(a);return this.p.U()}; })()
